<!DOCTYPE html>
<html>
	<body onload="startGame()" >
		<script>
var canvas = document.createElement("canvas");
canvas.width = 800;
canvas.height = 600;
var context = canvas.getContext("2d");
var player = {x:100, y:50};

function startGame() {
	document.body.insertBefore(canvas, document.body.childNodes[0]);
	document.onkeydown = function (e){
		userkey(e);
		drawGame();
	}
	drawGame();
}

function drawGame() {
	context.fillStyle = "#F00";
	context.fillRect(player.x, player.y, 3, 8);
	context.font = "30px Arial";
	context.fillStyle = "#0f0";
	context.textAlign = "center";
	context.fillText("Hello World!", canvas.width / 2, canvas.height / 2);
}

function clear() {
	context.clearRect(0, 0, canvas.width, canvas.height);
}

const ESCAPE = 27, UP = 30, DOWN = 40, LEFT = 37, RIGHT = 39;
function userkey(e) {
	e = e || window.event;
	if (e.keyCode == UP || e.keyCode == "W".charCodeAt(0)) {
		player.y--;
	} else if (e.keyCode == DOWN || e.keyCode == "S".charCodeAt(0)) {
		player.y++;
	} else if (e.keyCode == LEFT || e.keyCode == "A".charCodeAt(0)) {
		player.x--;
	} else if (e.keyCode == RIGHT || e.keyCode == "D".charCodeAt(0)) {
		player.x++;
	} else if (e.keyCode == ESCAPE) {
		startGame();
	} else {
		console.log("key: "+e.keyCode)
	}
};
		</script>
	</body>
</html>
